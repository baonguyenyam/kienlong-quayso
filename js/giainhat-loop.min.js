var giainhat={text:"XXXXXX",chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",lists:[],lastkey:"",click:1,animation:3.5};function updateUerWin(t){$.ajax({url:AppURL.giai_nhat_update+t,type:"GET",dataType:"json",cache:!0,complete:function(t){}})}function victoryStep(){$(".chucmung").find("h3").html(giainhat.Fulltext[3]),$(".chucmung").find("h3").html(giainhat.Fulltext[3]);for(var t=[],a=0;a<giainhat.columnTitle.length-4;a++)"true"===giainhat.displayOnResult[a+4]&&t.push('<p class="text-muted click">'+giainhat.titleOnResult[a+4]+giainhat.Fulltext[a+4]+"</p>");$(".chucmung .looptext").html(t),$(".quatang").find("img").attr("src",giainhat.imgs),$(".chucmung, .quatang").show(),$(".click").kAnimation({ClassName:"animated fadeIn",Delay:1e3,Forever:!1,DelayForever:100}),setTimeout(function(){$("body").addClass("phaono"),$("#congrats").show(),document.title="‚ú®üåü Xin ch√∫c m·ª´ng! üåü‚ú®",fancyPopIn(),updateUerWin(giainhat.Fulltext[0]),$("#buzzer").get(0).play()},300),setTimeout(function(){$("body").removeClass("phaono")},2e3)}function passed(){geStopSlot(giainhat.ltr,0,giainhat.click,giainhat.text.split("")),$("#getnumautosop").hide()}function getData(){$("#loading").removeClass("done").removeClass("finished"),$.ajax({url:AppURL.giai_nhat+getParameterByName("ID"),type:"GET",dataType:"json",cache:!0,complete:function(t){var a=t.responseJSON.data_giainhat;giainhat.text=a.lists[0].split(";")[1],giainhat.Fulltext=a.lists[0].split(";"),giainhat.passed=a.lists[0].split(";")[2],giainhat.ltr=a.ltr,giainhat.autotime=a.autotime,giainhat.autostop=a.autostop,giainhat.press=a.press,giainhat.imgs=a.imgs,giainhat.columnTitle=a.columnTitle.split(","),giainhat.displayOnResult=a.displayOnResult.toLowerCase().split(","),giainhat.titleOnResult=a.titleOnResult.toLowerCase().split(","),"true"===giainhat.passed&&(victoryStep(),passed()),a.bgimg&&setTimeout(function(){$("body").css({"background-image":"url("+a.bgimg+")"})},200),a.demo&&DemoMode(),setTimeout(function(){$("#loading").addClass("done")},200),setTimeout(function(){$("#loading").removeClass("done").addClass("finished")},1e3)}})}function shuffle(t){for(var a,i,e=t.length;0!==e;)i=Math.floor(Math.random()*e),a=t[e-=1],t[e]=t[i],t[i]=a;return t}function sf(){return shuffle(giainhat.chars.split(""))}function createList(t){$(".block").addClass("animated").css({"animation-duration":giainhat.animation+"s"}),$(".block").each(function(){giainhat.lists=[];for(var t=sf(),a=0;a<t.length;a++)giainhat.lists.push("<div class='item'>"+t[a]+"</div>");$(this).html(giainhat.lists)}),t&&setTimeout(function(){$("#getnumautosop").hide()},giainhat.autotime*giainhat.press)}function getRandomKey(){var t=giainhat.autostop;document.title="ƒêang t√¨m ng∆∞·ªùi may m·∫Øn...",$(".stepbystep p").html("ƒêang quay s·ªë..."),$("#jackpot").get(0).play();document.getElementById("getnum");var a=document.getElementById("getnumautosop");if(t){createList(t);giainhat.autotime;var i=giainhat.press;countDown(),a.setAttribute("disabled","disabled");var e=setInterval(function(){stopKey(),--i<=0?clearInterval(e):countDown()},giainhat.autotime)}else createList(t),$("#getnum").hide(),$("#getnumautosop").hide(),$(".loading").show(),$("#stopnum").show()}function countDown(){var t=giainhat.autotime/1e3,a=document.getElementById("getnumautosop");a.innerHTML="ƒêang quay";var i=setInterval(function(){(t-=1)<0?clearInterval(i):(document.title="("+t+") - ƒêang t√¨m ng∆∞·ªùi may m·∫Øn...",a.innerHTML="ƒêang quay")},1e3)}function stopKeyEnd(){$("#jackpot").get(0).pause(),$(".loading").hide(),getlastKey(),victoryStep()}function getlastKey(){$(".block.end").removeClass("animated"),$("#lists .lists .block.end").html("<div class='item'>"+giainhat.lastkey+"</div>"),$(".stepbystep p").html("Quay s·ªë ho√†n t·∫•t!")}function stopKey(){if($("#pot").get(0).play(),giainhat.click++,gold(giainhat.ltr),$("#stopnum").css({cursor:"wait","pointer-events":"none"}).attr("disabled","disabled"),setTimeout(function(){$("#stopnum").css({cursor:"pointer","pointer-events":"initial"}).removeAttr("disabled"),$("#pot").get(0).pause()},1e3),$("#stopnum").html("D·ª´ng quay"),giainhat.click>giainhat.press)return stopKeyEnd(),$("#stopnum").hide(),!1}function gold(t){giainhat.lists=[];var a=giainhat.text.split("");geStopSlot(giainhat.ltr,giainhat.press,giainhat.click,a)}function geStopSlot(t,a,i,e){if(t)for(n=0;n<i-1+(6-a);n++)$("#lists .lists:nth-child("+(n+1)+") .block").html("<div class='item'>"+e[n]+"</div>").removeClass("animated");else for(var n=a-(i-1);n<6;n++)$("#lists .lists:nth-child("+(n+1)+") .block").html("<div class='item'>"+e[n]+"</div>").removeClass("animated")}getData();