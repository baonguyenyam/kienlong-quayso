var giaidacbiet={text:"XXXXXX",chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",lists:[],lastkey:"",click:1,animation:3.5};function updateUerWin(t){$.ajax({url:AppURL.giai_dacbiet_update+t,type:"GET",dataType:"json",cache:!0,complete:function(t){}})}function victoryStep(){$(".chucmung").find("h3").html(giaidacbiet.Fulltext[3]),$(".chucmung").find("p.add").html(giaidacbiet.Fulltext[4]),$(".chucmung").find("p.text-muted").html(giaidacbiet.Fulltext[5]),$(".chucmung").find("p.text-muted-2").html(giaidacbiet.Fulltext[6]),$(".quatang").find("img").attr("src",giaidacbiet.imgs),$(".chucmung, .quatang").show(),setTimeout(function(){$("body").addClass("phaono"),$("#congrats").show(),document.title="‚ú®üåü Xin ch√∫c m·ª´ng! üåü‚ú®",fancyPopIn(),updateUerWin(giaidacbiet.Fulltext[0]),$("#buzzer").get(0).play()},300),setTimeout(function(){$("body").removeClass("phaono")},2e3)}function passed(){geStopSlot(giaidacbiet.ltr,0,giaidacbiet.click,giaidacbiet.text.split("")),$("#getnumautosop").hide()}function getData(){$.ajax({url:AppURL.giai_dacbiet,type:"GET",dataType:"json",cache:!0,complete:function(t){var i=t.responseJSON.data_giaidacbiet;giaidacbiet.text=i.lists[0].split(";")[1],giaidacbiet.passed=i.lists[0].split(";")[2],giaidacbiet.Fulltext=i.lists[0].split(";"),giaidacbiet.ltr=i.ltr,giaidacbiet.autotime=i.autotime,giaidacbiet.imgs=i.imgs,giaidacbiet.autostop=i.autostop,giaidacbiet.press=i.press,"true"===giaidacbiet.passed&&(victoryStep(),passed()),i.bgimg&&setTimeout(function(){$("body").css({"background-image":"url("+i.bgimg+")"})},200),i.demo&&DemoMode()}})}function shuffle(t){for(var i,e,a=t.length;0!==a;)e=Math.floor(Math.random()*a),i=t[a-=1],t[a]=t[e],t[e]=i;return t}function sf(){return shuffle(giaidacbiet.chars.split(""))}function createList(t){$(".block").addClass("animated").css({"animation-duration":giaidacbiet.animation+"s"}),$(".block").each(function(){giaidacbiet.lists=[];for(var t=sf(),i=0;i<t.length;i++)giaidacbiet.lists.push("<div class='item'>"+t[i]+"</div>");$(this).html(giaidacbiet.lists)}),t&&setTimeout(function(){$("#getnumautosop").hide()},giaidacbiet.autotime*giaidacbiet.press)}function getRandomKey(){var t=giaidacbiet.autostop;document.title="ƒêang t√¨m ng∆∞·ªùi may m·∫Øn...",$(".stepbystep p").html("ƒêang quay s·ªë..."),$("#jackpot").get(0).play();document.getElementById("getnum");var i=document.getElementById("getnumautosop");if(t){createList(t);giaidacbiet.autotime;var e=giaidacbiet.press;countDown(),i.setAttribute("disabled","disabled");var a=setInterval(function(){stopKey(),--e<=0?clearInterval(a):countDown()},giaidacbiet.autotime)}else createList(t),$("#getnum").hide(),$("#getnumautosop").hide(),$(".loading").show(),$("#stopnum").show()}function countDown(){var t=giaidacbiet.autotime/1e3,i=document.getElementById("getnumautosop");i.innerHTML="ƒêang quay - ("+t+")";var e=setInterval(function(){(t-=1)<0?clearInterval(e):(document.title="("+t+") - ƒêang t√¨m ng∆∞·ªùi may m·∫Øn...",i.innerHTML="ƒêang quay - ("+t+")")},1e3)}function stopKeyEnd(){$("#jackpot").get(0).pause(),$(".loading").hide(),getlastKey(),victoryStep()}function getlastKey(){$(".block.end").removeClass("animated"),$("#lists .lists .block.end").html("<div class='item'>"+giaidacbiet.lastkey+"</div>"),$(".stepbystep p").html("Quay s·ªë ho√†n t·∫•t!")}function stopKey(){if($("#pot").get(0).play(),giaidacbiet.click++,gold(giaidacbiet.ltr),$("#stopnum").css({cursor:"wait","pointer-events":"none"}).attr("disabled","disabled"),setTimeout(function(){$("#stopnum").css({cursor:"pointer","pointer-events":"initial"}).removeAttr("disabled"),$("#pot").get(0).pause()},1e3),$("#stopnum").html("D·ª´ng quay"),giaidacbiet.click>giaidacbiet.press)return stopKeyEnd(),$("#stopnum").hide(),!1}function gold(t){giaidacbiet.lists=[];var i=giaidacbiet.text.split("");geStopSlot(giaidacbiet.ltr,giaidacbiet.press,giaidacbiet.click,i)}function geStopSlot(t,i,e,a){if(t)for(var s=i-(e-1);s<6;s++)$("#lists .lists:nth-child("+(s+1)+") .block").html("<div class='item'>"+a[s]+"</div>").removeClass("animated");else for(s=0;s<e-1+(6-i);s++)$("#lists .lists:nth-child("+(s+1)+") .block").html("<div class='item'>"+a[s]+"</div>").removeClass("animated")}getData();